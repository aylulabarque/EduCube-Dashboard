<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        
        <title>EduQube Dashboard</title>
        <link href="css/styles.css" rel="stylesheet" />
        <meta charset="UTF-8">
        <script src="http://s.codepen.io/assets/libs/modernizr.js" type="text/javascript"></script>

        <link href='http://fonts.googleapis.com/css?family=Titillium+Web:400,200,300,600,700' rel='stylesheet' type='text/css'>
        <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">  
        
        <link href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css" rel="stylesheet" crossorigin="anonymous" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js" crossorigin="anonymous"></script>
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>


        <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.js" type="text/javascript">
        </script>
        <script type = "text/javascript" language = "javascript">
         var mqtt;
         var reconnectTimeout = 2000;
         var host="35.198.42.153";
         var port=8083;
         var gyro_x = "0";
         var gyro_y = "0";
         var gyro_z = "0";
         var accel_x = "0";
         var accel_y = "0";
         var accel_z = "0";
         var mag_x = "0";
         var mag_y = "0";
         var mag_z = "0";
         var humidity = "0";
         var pressure = "0";
         var temperature = "0";
         var altitude = "0";
         var gps_lat = "-38";
         var gps_long = "-57";
         var rssi = "0";
         let launchdate;
     
         function onFailure(message) {
           console.log("Connection Attempt to Host "+host+"Failed");
           setTimeout(MQTTconnect, reconnectTimeout);
             }
     
         function onMessageArrived(msg){
           out_msg="Message received "+msg.payloadString+"<br>";
           out_msg=out_msg+"Message received Topic "+msg.destinationName;
           console.log(out_msg);
           if(msg.destinationName == "gyro_x")
           {
            gyro_x = msg.payloadString;
           }
           else if(msg.destinationName == "gyro_y")
           {
            gyro_y = msg.payloadString;
           }
           else if(msg.destinationName == "gyro_z")
           {
            gyro_z = msg.payloadString;
           }
           else if(msg.destinationName == "accel_x")
           {
            accel_x = msg.payloadString;
           }
           else if(msg.destinationName == "accel_y")
           {
            accel_y = msg.payloadString;
           }
           else if(msg.destinationName == "accel_z")
           {
            accel_z = msg.payloadString;
           }
           else if(msg.destinationName == "mag_x")
           {
            mag_x = msg.payloadString;
           }
           else if(msg.destinationName == "mag_y")
           {
            mag_y = msg.payloadString;
           }
           else if(msg.destinationName == "mag_z")
           {
            mag_z = msg.payloadString;
           }
           else if(msg.destinationName == "humidity")
           {
            humidity = msg.payloadString;
           }
           else if(msg.destinationName == "temperature")
           {
            temperature = msg.payloadString;
           }
           else if(msg.destinationName == "pressure")
           {
            pressure = msg.payloadString;
           }
           else if(msg.destinationName == "altitude")
           {
            altitude = msg.payloadString;
           }
           else if(msg.destinationName == "mag_x")
           {
            mag_x = msg.payloadString;
           }
           else if(msg.destinationName == "gps_lat")
           {
            gps_lat = msg.payloadString;
           }
           else if(msg.destinationName == "gps_long")
           {
            gps_long = msg.payloadString;
           }
           else if(msg.destinationName == "rssi")
           {
            rssi = msg.payloadString;
           }
           else if(msg.destinationName == "launchdate")
           {
            launchdate = msg.payloadString;
           }
         }
     
          function onConnect() {
            // Once a connection has been made, make a subscription
            console.log("Connected ");
            mqtt.subscribe("gyro_x");
            mqtt.subscribe("gyro_y");
            mqtt.subscribe("gyro_z");
            mqtt.subscribe("accel_x");
            mqtt.subscribe("accel_y");
            mqtt.subscribe("accel_z");
            mqtt.subscribe("mag_x");
            mqtt.subscribe("mag_y");
            mqtt.subscribe("mag_z");
            mqtt.subscribe("humidity");
            mqtt.subscribe("pressure");
            mqtt.subscribe("temperature");
            mqtt.subscribe("altitude");
            mqtt.subscribe("gps_lat");
            mqtt.subscribe("gps_long");
            mqtt.subscribe("rssi");
            mqtt.subscribe("launchdate");
          }

         function MQTTconnect() {
         console.log("connecting to "+ host +" "+ port);
         mqtt = new Paho.MQTT.Client(host,port,"clientjs");

         var options = {
           timeout: 3,
           onSuccess: onConnect,
           onFailure: onFailure,
            };
         mqtt.onMessageArrived = onMessageArrived
         
         mqtt.connect(options);
         }
        </script>

        <script>
          MQTTconnect();
        </script>

        <!--Este script pertenece a los gauge-->
        <script type="text/javascript">
         google.charts.load('current', {'packages':['gauge']});
         google.charts.setOnLoadCallback(drawChart);

         function drawChart() {
           var data = google.visualization.arrayToDataTable([
             ['Label', 'Value'],
             ['X', 0],
             ['Y', 0],
             ['Z', 0]
           ]);
   
           var options = {
             width: 420, height: 120,
             redFrom: 0, redTo: 0,
             yellowFrom:0, yellowTo: 0,
             min:-100, max:100,
             minorTicks: 5
           };

           var formatter = new google.visualization.NumberFormat({
              suffix: ' °/s',
              fractionDigits: 0
            });

           var chart = new google.visualization.Gauge(document.getElementById('chart_div'));
   
           chart.draw(data, options);
   
           setInterval(function() {
             data.setValue(0, 1, gyro_x);
             formatter.format(data, 1);
             chart.draw(data, options);
           }, 2000);
           setInterval(function() {
             data.setValue(1, 1, gyro_y);
             chart.draw(data, options);
           }, 2000);
           setInterval(function() {
             data.setValue(2, 1, gyro_z);
             chart.draw(data, options);
           }, 2000);
         }
       </script>                      
        <script type="text/javascript">
          google.charts.load('current', {'packages':['gauge']});
          google.charts.setOnLoadCallback(drawChart);
    
          function drawChart() {
    
            var data = google.visualization.arrayToDataTable([
              ['Label', 'Value'],
              ['X', 0],
              ['Y', 0],
              ['Z', 0]
            ]);
    
            var options = {
              width: 420, height: 120,
              redFrom: 0, redTo: 0,
              yellowFrom:0, yellowTo: 0,
              min:-16, max:16,
              minorTicks: 5
            };

            var formatter = new google.visualization.NumberFormat({
              suffix: ' g',
              fractionDigits: 0
            });
    
            var chart = new google.visualization.Gauge(document.getElementById('chart_div2'));
    
            chart.draw(data, options);
    
            setInterval(function() {
              data.setValue(0, 1, accel_x);
              formatter.format(data, 1);
              chart.draw(data, options);
            }, 2000);
            setInterval(function() {
              data.setValue(1, 1, accel_y);
              chart.draw(data, options);
            }, 2000);
            setInterval(function() {
              data.setValue(2, 1, accel_z);
              chart.draw(data, options);
            }, 2000);
          }
        </script>
        <script type="text/javascript">
          google.charts.load('current', {'packages':['gauge']});
          google.charts.setOnLoadCallback(drawChart);
    
          function drawChart() {
    
            var data = google.visualization.arrayToDataTable([
              ['Label', 'Value'],
              ['X', 0],
              ['Y', 0],
              ['Z', 0]
            ]);
    
            var options = {
              width: 420, height: 120,
              redFrom: 0, redTo: 0,
              yellowFrom:0, yellowTo: 0,
              min:-100, max:100,
              minorTicks: 5
            };
            var formatter = new google.visualization.NumberFormat({
              suffix: ' µT',
              fractionDigits: 0
            });
    
            var chart = new google.visualization.Gauge(document.getElementById('chart_div3'));
    
            chart.draw(data, options);
    
            setInterval(function() {
              data.setValue(0, 1, mag_x);
              formatter.format(data, 1);
              chart.draw(data, options);
            }, 2000);
            setInterval(function() {
              data.setValue(1, 1, mag_y);
              chart.draw(data, options);
            }, 2000);
            setInterval(function() {
              data.setValue(2, 1, mag_z);
              chart.draw(data, options);
            }, 2000);
          }
        </script>     
        <script type="text/javascript">
          google.charts.load('current', {'packages':['gauge']});
          google.charts.setOnLoadCallback(drawChart);
    
          function drawChart() {
    
            var data = google.visualization.arrayToDataTable([
              ['Label', 'Value'],
              ['Humidity', 0]
             
            ]);
    
            var options = {
              width: 460, height: 160,
              redFrom: 0, redTo: 0,
              yellowFrom:0, yellowTo: 0,
              minorTicks: 5
            };

            var formatter = new google.visualization.NumberFormat({
              suffix: ' %',
              fractionDigits: 0
            });
    
            var chart = new google.visualization.Gauge(document.getElementById('chart_div4'));
    
            chart.draw(data, options);
    
            setInterval(function() {
              data.setValue(0, 1, 0);
              formatter.format(data, 1);
              chart.draw(data, options);
            }, 2000);
          }
        </script>
        <script type="text/javascript">
          google.charts.load('current', {'packages':['gauge']});
          google.charts.setOnLoadCallback(drawChart);
    
          function drawChart() {
    
            var data = google.visualization.arrayToDataTable([
              ['Label', 'Value'],
              ['Temperature', 0]
            ]);
    
            var options = {
              width: 460, height: 160,
              redFrom: 0, redTo: 0,
              yellowFrom:0, yellowTo: 0,
              min:-50, max:50,
              minorTicks: 5
            };

            var formatter = new google.visualization.NumberFormat({
              suffix: ' ºC',
              fractionDigits: 0
            });
    
            var chart = new google.visualization.Gauge(document.getElementById('chart_div6'));
    
            chart.draw(data, options);
    
            setInterval(function() {
              data.setValue(0, 1, temperature);
              formatter.format(data, 1);
              chart.draw(data, options);
            }, 2000);
          }
        </script>
        <script type="text/javascript">
          google.charts.load('current', {'packages':['gauge']});
          google.charts.setOnLoadCallback(drawChart);
    
          function drawChart() {
    
            var data = google.visualization.arrayToDataTable([
              ['Label', 'Value'],
              ['Pressure', 0],
            ]);

            var options = {
              width: 460, height: 160,
              min:0,max:1000
            };

            var formatter = new google.visualization.NumberFormat({
              suffix: ' hPa',
              fractionDigits: 0
            });
    
            var chart = new google.visualization.Gauge(document.getElementById('chart_div5'));
    
            chart.draw(data, options);
    
            setInterval(function() {
              data.setValue(0, 1, pressure);
              formatter.format(data, 1);
              chart.draw(data, options);
            }, 2000);
          }
        </script> 
        <script type="text/javascript">
          google.charts.load('current', {'packages':['gauge']});
          google.charts.setOnLoadCallback(drawChart);
    
          function drawChart() {
    
            var data = google.visualization.arrayToDataTable([
              ['Label', 'Value'],
              ['RSSI', 0],
            ]);

            var options = {
              width: 460, height: 160,
              redFrom: -140, redTo: -130,
              yellowFrom:-130, yellowTo: -120,
              greenFrom:-120, greenTo:40,
              min:-140,max:0
            };

            var formatter = new google.visualization.NumberFormat({
              suffix: ' dB',
              fractionDigits: 0
            });
    
            var chart = new google.visualization.Gauge(document.getElementById('chart_div7'));
    
            chart.draw(data, options);
    
           
            setInterval(function() {
              formatter.format(data, 1);
              data.setValue(0, 1, rssi);
              chart.draw(data, options);
            }, 2000);
          }
        </script>                                                                          
    </head>

    <body class="sb-nav-fixed">
        <nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark">
            <a class="navbar-brand" href="index.html">EduQube Dashboard</a>
      
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href='charts.html'>Charts</a>
        </li>
      </ul>
        </nav>

        <div id="layoutSidenav">
            <div id="layoutSidenav_content">
                <main>
                    <div class="container-fluid">
                        <h1 class="mt-4"></h1>
                        <div class="row">

                          <!--Uptime Card-->
                            <div class="col-xl-2 col-md-6">
                                <div class="card text-white mb-4">
                                    <div class="card-header">Satellite Uptime</div>
                                    <div class="card-bodyd d-flex align-items-center justify-content-between">
                                      <div class="container-uptime">
                                      
                                        <ul>
                                          <li><span id="h">00</span>Days</li>
                                          <li><span id="m">00</span>Hours</li>
                                          <li><span id="s">00</span>Minutes</li>
                                          
                                        </ul>
                                                                         
                                    </div>
                                    </div>
                                </div>
                            </div>
                      
                            <!--Countdown Card-->
                            <div class="col-xl-3 col-md-6">
                              <div class="card height-100 text-white mb-4">
                                  <div class="card-header">Mission Countdown</div>
                                  <div class="card-bodyd d-flex align-items-center justify-content-between">
                                    <div class="container">
                                      
                                        <ul>
                                          <li><span id="days"></span>Days</li>
                                          <li><span id="hours"></span>Hours</li>
                                          <li><span id="minutes"></span>Minutes</li>
                                          <li><span id="seconds"></span>Seconds</li>
                                        </ul>
                                                                         
                                    </div>
                                    <script> (function () {
                                      const second = 1000,
                                            minute = second * 60,
                                            hour = minute * 60,
                                            day = hour * 24;
                                          previouslaunchdate = launchdate;
                                          x = setInterval(function() {    
                                            if(previouslaunchdate != launchdate)
                                            {
                                              countDown = new Date(launchdate).getTime();
                                              let now = new Date().getTime(),
                                              distance = countDown - now;
                                              
                                              document.getElementById("days").innerText = Math.floor(distance / (day)),
                                              document.getElementById("hours").innerText = Math.floor((distance % (day)) / (hour)),
                                              document.getElementById("minutes").innerText = Math.floor((distance % (hour)) / (minute)),
                                              document.getElementById("seconds").innerText = Math.floor((distance % (minute)) / second);        
                                            }                                                           
                                            //seconds
                                          }, 0)
                                      }());</script>                                      
                                  </div>
                              </div>
                          </div>

                          <!--Timeline Card-->
                          <div class="col-xl-4 col-md-6">
                            <div class="card text-white mb-4">
                              <div class="card-header">Launch Timeline</div>
                                  <div class="card-bodyd d-flex align-items-center justify-content-between">
                                      <ul class="timeline" id="timeline">
                                        <li class="li complete">
                                          <div class="status">
                                            <h4> Engine Startup </h4>
                                          </div>
                                        </li>
                                        <li class="li">
                                          <div class="status">
                                            <h4> Rocket Liftoff </h4>
                                          </div>
                                        </li>
                                        <li class="li">
                                          <div class="status">
                                            <h4> Rocket Landing </h4>
                                          </div>
                                        </li>
                                        <li class="li">
                                          <div class="status">
                                            <h4> Satellite Deploy </h4>
                                          </div>
                                        </li>
                                      </ul>
                                      <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
                                </div>
                            </div>
                        </div>

                          <!--Logo Card-->
                            <div class="col-xl-3 col-md-6">
                                <div class="cardl  text-white mb-4">
                                  <div class="card-bodyl">                                
                                    <div class="card-body-logo d-flex align-items-center justify-content-between">
                                        <img src="https://cloud-object-storage-th-cos-standard-5mr.s3.us-south.cloud-object-storage.appdomain.cloud/innova%20space%202-blanco.png " width="200px"height="80px" style="align-items: center;">
                                    </div>                                  
                                  </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                          <div class="col-xl-4">
                            <div class="row">                                          
                              <div class="col-xl-6">
                                  <div class="card mb-4">
                                      <div class="card-header">
                                      Humidity
                                      </div>
                                      <div class="card-body">
                                        <script src="https://d3js.org/d3.v4.min.js"></script>
                                        <div id="chart" style="margin-left: 15px;"></div>
                                        <script>
                                          
                                          var percent = humidity; // 0.0 to 1.0
                                          var text = (percent * 100) + "%";

                                          var width = 140;
                                          var height = 100;
                                          var thickness = 20;
                                          var duration = 750;
                                          var foregroundColor = "#0a8";
                                          var backgroundColor = "#ccc";

                                          var radius = Math.min(width, height) / 2;
                                          var color = d3.scaleOrdinal([foregroundColor, backgroundColor]);

                                          var svg = d3.select("#chart")
                                          .append('svg')
                                          .attr('class', 'pie')
                                          .attr('width', width)
                                          .attr('height', height);

                                          var g = svg.append('g')
                                          .attr('transform', 'translate(' + (width/2) + ',' + (height/2) + ')');

                                          var arc = d3.arc()
                                          .innerRadius(radius - thickness)
                                          .outerRadius(radius);

                                          var pie = d3.pie()
                                          .sort(null);

                                          var path = g.selectAll('path')
                                          .data(pie([0, 1]))
                                          .enter()
                                          .append('path')
                                          .attr('d', arc)
                                          .attr('fill', function(d, i) {
                                            return color(i);
                                          })
                                          .each(function(d) { this._current = d; });


                                          path.data(pie([percent, 1-percent])).transition()
                                            .duration(duration)
                                            .attrTween('d', function(d) {
                                            var interpolate = d3.interpolate(this._current, d);
                                            this._current = interpolate(0);
                                            return function(t) {
                                              return arc(interpolate(t));
                                            }
                                          });
                                          setInterval(function() {
                                            g.append('text')
                                            .attr('text-anchor', 'middle')
                                            .attr('dy', '.35em')
                                            .text(text);
                                          
                                        }, 2000);

                                          g.append('text')
                                            .attr('text-anchor', 'middle')
                                            .attr('dy', '.35em')
                                            .text(text);
                                        </script>
                                      </div>
                                  </div>
                              </div>

                              <div class="col-xl-6">
                                <div class="card mb-4">
                                    <div class="card-header">
                                    Temperature
                                    </div>
                                    <div class="card-body">
                                      <script src="https://d3js.org/d3.v4.min.js"></script>
                                      <div id="chart2" style="margin-left: 15px;"></div>
                                      <script>
                                        
                                        var percent = temperature; // 0.0 to 1.0
                                        var text = (percent * 100) + "ºC";

                                        var width = 140;
                                        var height = 100;
                                        var thickness = 20;
                                        var duration = 750;
                                        var foregroundColor = "#0a8";
                                        var backgroundColor = "#ccc";

                                        var radius = Math.min(width, height) / 2;
                                        var color = d3.scaleOrdinal([foregroundColor, backgroundColor]);

                                        var svg = d3.select("#chart2")
                                        .append('svg')
                                        .attr('class', 'pie')
                                        .attr('width', width)
                                        .attr('height', height);

                                        var g = svg.append('g')
                                        .attr('transform', 'translate(' + (width/2) + ',' + (height/2) + ')');

                                        var arc = d3.arc()
                                        .innerRadius(radius - thickness)
                                        .outerRadius(radius);

                                        var pie = d3.pie()
                                        .sort(null);

                                        var path = g.selectAll('path')
                                        .data(pie([0, 1]))
                                        .enter()
                                        .append('path')
                                        .attr('d', arc)
                                        .attr('fill', function(d, i) {
                                          return color(i);
                                        })
                                        .each(function(d) { this._current = d; });


                                        path.data(pie([percent, 1-percent])).transition()
                                          .duration(duration)
                                          .attrTween('d', function(d) {
                                          var interpolate = d3.interpolate(this._current, d);
                                          this._current = interpolate(0);
                                          return function(t) {
                                            return arc(interpolate(t));
                                          }
                                        });
                                        setInterval(function() {
                                          g.append('text')
                                          .attr('text-anchor', 'middle')
                                          .attr('dy', '.35em')
                                          .text(text);
                                        
                                      }, 2000);

                                        g.append('text')
                                          .attr('text-anchor', 'middle')
                                          .attr('dy', '.35em')
                                          .text(text);
                                      </script>
                                    </div>
                                </div>
                                </div>
                              </div>
                                <div class="row"> 
                                      <div class="col-xl-6">
                                        <div class="card mb-4">
                                            <div class="card-header">
                                            Pressure
                                            </div>
                                            <div class="card-body">
                                              <script src="https://d3js.org/d3.v4.min.js"></script>
                                              <div id="chart3" style="margin-left: 15px;"></div>
                                              <script>
                                                
                                                var percent = pressure; // 0.0 to 1.0
                                                var text = (percent * 100) + "hPA";

                                                var width = 140;
                                                var height = 100;
                                                var thickness = 20;
                                                var duration = 750;
                                                var foregroundColor = "#0a8";
                                                var backgroundColor = "#ccc";

                                                var radius = Math.min(width, height) / 2;
                                                var color = d3.scaleOrdinal([foregroundColor, backgroundColor]);

                                                var svg = d3.select("#chart3")
                                                .append('svg')
                                                .attr('class', 'pie')
                                                .attr('width', width)
                                                .attr('height', height);

                                                var g = svg.append('g')
                                                .attr('transform', 'translate(' + (width/2) + ',' + (height/2) + ')');

                                                var arc = d3.arc()
                                                .innerRadius(radius - thickness)
                                                .outerRadius(radius);

                                                var pie = d3.pie()
                                                .sort(null);

                                                var path = g.selectAll('path')
                                                .data(pie([0, 1]))
                                                .enter()
                                                .append('path')
                                                .attr('d', arc)
                                                .attr('fill', function(d, i) {
                                                  return color(i);
                                                })
                                                .each(function(d) { this._current = d; });


                                                path.data(pie([percent, 1-percent])).transition()
                                                  .duration(duration)
                                                  .attrTween('d', function(d) {
                                                  var interpolate = d3.interpolate(this._current, d);
                                                  this._current = interpolate(0);
                                                  return function(t) {
                                                    return arc(interpolate(t));
                                                  }
                                                });
                                                setInterval(function() {
                                                  g.append('text')
                                                  .attr('text-anchor', 'middle')
                                                  .attr('dy', '.35em')
                                                  .text(text);
                                                
                                              }, 2000);

                                                g.append('text')
                                                  .attr('text-anchor', 'middle')
                                                  .attr('dy', '.35em')
                                                  .text(text);
                                              </script>
                                            </div>
                                        </div>
                                        </div>
                                  
                                        <div class="col-xl-6">
                                          <div class="card mb-4">
                                              <div class="card-header">
                                              RSSI
                                              </div>
                                              <div class="card-body">
                                                <script src="https://d3js.org/d3.v4.min.js"></script>
                                                <div id="chart4" style="margin-left: 15px;"></div>
                                                <script>
                                                  
                                                  var percent = rssi; // 0.0 to 1.0
                                                  var text = (percent * 100) + "dB";

                                                  var width = 140;
                                                  var height = 100;
                                                  var thickness = 20;
                                                  var duration = 750;
                                                  var foregroundColor = "#0a8";
                                                  var backgroundColor = "#ccc";

                                                  var radius = Math.min(width, height) / 2;
                                                  var color = d3.scaleOrdinal([foregroundColor, backgroundColor]);

                                                  var svg = d3.select("#chart4")
                                                  .append('svg')
                                                  .attr('class', 'pie')
                                                  .attr('width', width)
                                                  .attr('height', height);

                                                  var g = svg.append('g')
                                                  .attr('transform', 'translate(' + (width/2) + ',' + (height/2) + ')');

                                                  var arc = d3.arc()
                                                  .innerRadius(radius - thickness)
                                                  .outerRadius(radius);

                                                  var pie = d3.pie()
                                                  .sort(null);

                                                  var path = g.selectAll('path')
                                                  .data(pie([0, 1]))
                                                  .enter()
                                                  .append('path')
                                                  .attr('d', arc)
                                                  .attr('fill', function(d, i) {
                                                    return color(i);
                                                  })
                                                  .each(function(d) { this._current = d; });


                                                  path.data(pie([percent, 1-percent])).transition()
                                                    .duration(duration)
                                                    .attrTween('d', function(d) {
                                                    var interpolate = d3.interpolate(this._current, d);
                                                    this._current = interpolate(0);
                                                    return function(t) {
                                                      return arc(interpolate(t));
                                                    }
                                                  });
                                                  setInterval(function() {
                                                    g.append('text')
                                                    .attr('text-anchor', 'middle')
                                                    .attr('dy', '.35em')
                                                    .text(text);
                                                  
                                                }, 2000);

                                                  g.append('text')
                                                    .attr('text-anchor', 'middle')
                                                    .attr('dy', '.35em')
                                                    .text(text);
                                                </script>
                                              </div>
                                          </div>
                                        </div>
                              </div>
                          </div>


                          <div class="col-xl-8">
                            <div class="row">
                            <!--Satellite Location Card-->
                            <div class="col-xl-8">
                              <div class="card mb-8">
                                  <div class="card-header">
                                      <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-geo" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                          <path fill-rule="evenodd" d="M8 1a3 3 0 1 0 0 6 3 3 0 0 0 0-6zM4 4a4 4 0 1 1 4.5 3.969V13.5a.5.5 0 0 1-1 0V7.97A4 4 0 0 1 4 3.999zm2.493 8.574a.5.5 0 0 1-.411.575c-.712.118-1.28.295-1.655.493a1.319 1.319 0 0 0-.37.265.301.301 0 0 0-.057.09V14l.002.008a.147.147 0 0 0 .016.033.617.617 0 0 0 .145.15c.165.13.435.27.813.395.751.25 1.82.414 3.024.414s2.273-.163 3.024-.414c.378-.126.648-.265.813-.395a.619.619 0 0 0 .146-.15.148.148 0 0 0 .015-.033L12 14v-.004a.301.301 0 0 0-.057-.09 1.318 1.318 0 0 0-.37-.264c-.376-.198-.943-.375-1.655-.493a.5.5 0 1 1 .164-.986c.77.127 1.452.328 1.957.594C12.5 13 13 13.4 13 14c0 .426-.26.752-.544.977-.29.228-.68.413-1.116.558-.878.293-2.059.465-3.34.465-1.281 0-2.462-.172-3.34-.465-.436-.145-.826-.33-1.116-.558C3.26 14.752 3 14.426 3 14c0-.599.5-1 .961-1.243.505-.266 1.187-.467 1.957-.594a.5.5 0 0 1 .575.411z"/>
                                        </svg>
                                        Satellite Trajectory / Location
                                  
                                  </div>
                                  <div class="card-body"><div id="googleMap" style="width:100%;height:310px;"></div></canvas></div>
                                  <script>
                                      function myMap() {
                                      var mapProp= {
                                        center:new google.maps.LatLng(35.022685,-2.709475),
                                        zoom:0.9,
                                        mapTypeId: google.maps.MapTypeId.SATELLITE,
                                        streetViewControl: false,
                                        mapTypeControl: false,
                                        zoomControl: false,
                                        fullscreenControl: false,
                                      };

                                      const satelite_img = "https://icons.iconarchive.com/icons/google/noto-emoji-travel-places/24/42597-satellite-icon.png";
                                      var map = new google.maps.Map(document.getElementById("googleMap"),mapProp);
                                      const marker = new google.maps.Marker({
                                      position: { lat: gps_lat, lng: gps_long },
                                      map: map,
                                      icon: satelite_img

                                    });
                                    setInterval(function() {
                                        position = new google.maps.LatLng(gps_lat, gps_long);
                                        marker.setPosition(position);
                                    }, 2000);
                                      }
                                      </script>
                                      <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDsPUm81zS1eOrIrYqeqN9mE00HzgVjcEo&callback=myMap"></script>    
                              </div>
                            </div>
                            <!--Twitter Card-->
                            <div class="col-xl-4">
                                      <div class="card mb-4">
                                        
                                        <a class="twitter-timeline" data-width="350" data-height="400" data-theme="dark" href="https://twitter.com/innova_space?ref_src=twsrc%5Etfw">Tweets by innova_space</a> 
                                        <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
              
                                    </div>
                              </div>
                            </div>
                          </div>
                        </div>
         
                        <div class="row">
                          <!--Gauge-->
                            <div class="col-xl-4">
                                <div class="card mb-4">
                                    <div class="card-header">
                                        Gyroscope Axes
                                    </div>
                                    <div class="card-body">
                                      <div id="chart_div" style="width: 450px; height: 110px; margin-left: 15px;"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <!--Gauge-->
                            <div class="col-xl-4">
                                <div class="card mb-4">
                                    <div class="card-header">
                                      Accelerometer Axes
                                    </div>
                                    <div class="card-body">
                                      <div id="chart_div2" style="width: 450px; height: 110px; margin-left: 15px;"></div>
                                    </div>
                                </div>
                            </div>
                           <!--Gauge-->
                                <div class="col-xl-4">
                                    <div class="card mb-4">
                                        <div class="card-header">
                                          Magnetometer Axes
                                        </div>
                                        <div class="card-body"><div id="chart_div3" style="width: 450px; height: 110px; margin-left: 15px;"></div></div>
                                    </div>
                                </div>
                            </div>
                            
                            

                            
                        </div>
                        
                        <link href='http://fonts.googleapis.com/css?family=Titillium+Web:400,200,300,600,700' rel='stylesheet' type='text/css'>
                        <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
                           
                </main>
                <footer class="py-4 bg-light mt-auto">
                    <div class="container-fluid">
                        <div class="d-flex align-items-center justify-content-between small">
                            <div class="text-muted">Copyright &copy; EduQube 2020 - Innova Space</div>
                            
                        </div>
                    </div>
                </footer>
            </div>
        </div>
        <script src="https://code.jquery.com/jquery-3.5.1.min.js" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
        <script src="js/scripts.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
        <script src="assets/demo/chart-area-demo.js"></script>
        <script src="assets/demo/chart-bar-demo.js"></script>
        <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js" crossorigin="anonymous"></script>
        <script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js" crossorigin="anonymous"></script>
        <script src="assets/demo/datatables-demo.js"></script>
    </body>
</html>
